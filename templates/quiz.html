<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Quiz Question</title>
</head>
<body style="background-color: {{ style.bg_color }}; color: {{ style.text_color }}; font-size: {{ style.font_size }}px;">

    <h1>Quiz - Question</h1>

    <!-- Quiz Form -->
    <form method="POST" id="quiz_form">
        <p><strong>{{ question }}</strong></p>
        
        <!-- Loop through each option (A, B, C, D) -->
        {% for letter, option_text in options.items() %}
            <div>
                <input type="radio" id="opt_{{ letter }}" name="selected_letter" value="{{ letter }}">
                <label for="opt_{{ letter }}">{{ letter }}) {{ option_text }}</label>
            </div>
        {% endfor %}
        
        <button type="submit">Submit Answer</button>
    </form>

    <hr>
    <!-- Return to the main menu if desired -->
    <form action="{{ url_for('back_to_main') }}" method="POST">
        <button type="submit">Back to Main Menu</button>
    </form>

    <!-- JavaScript for handling keypresses:
         - '1', '2', '3', '4' to select an option (A, B, C, D)
         - Enter OR Space to submit the form
    -->
    <script>
    document.addEventListener("keydown", function(e) {
        switch (e.key) {
            case '1':
                // Select radio button "A"
                const optA = document.getElementById("opt_A");
                if (optA) optA.checked = true;
                break;
            case '2':
                // Select radio button "B"
                const optB = document.getElementById("opt_B");
                if (optB) optB.checked = true;
                break;
            case '3':
                // Select radio button "C"
                const optC = document.getElementById("opt_C");
                if (optC) optC.checked = true;
                break;
            case '4':
                // Select radio button "D"
                const optD = document.getElementById("opt_D");
                if (optD) optD.checked = true;
                break;
            case 'Enter':
            case ' ':
                // Pressing Enter or Space will submit the answer
                e.preventDefault();  // Prevent default browser behavior (scroll, etc.)
                document.getElementById("quiz_form").submit();
                break;
        }
    });
    </script>

</body>
</html>
